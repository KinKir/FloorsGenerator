# 基于DCGAN的魔塔布局生成

## GAN运行方法
1. 把样板塔project目录下的/floors 以及 data.js 复制到 data目录中
2. 把需要模仿的工程目录复制到projects中（只需要保留floors即可），目前有三原塔
3. 运行： python main.py

## 环境依赖
python 3.5
pytorch 0.4.1

## 数据预处理与结果处理

目前的处理方式是取出所有编号0-10的图块作为墙，然后二值化为图片，放进dcgan中进行训练。
生成的图片（结果如下图）是0-255的灰度图，取中间一个阈值，高于阈值为墙，低于阈值为空地。

![](images/0.png)

## 目前结果
目前生成的结果（以三原塔为训练集），生成的层的内容在data/floors下。目前只有墙，可以根据需求考虑加入自动生成每层处理事件、上下楼梯等。


部分在样板中效果截图：

![](images/截图.bmp)



生成效果不是太好，推测原因是特征粒度不够细，以及训练数据处理不当。等待进一步实验吧。


